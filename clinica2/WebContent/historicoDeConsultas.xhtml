<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>

	<title>Historico de atendimentos</title>
	
			 <h:outputStylesheet name ="modelo.css" library ="resources/css" />
	<link rel="stylesheet" href="resources/css/style.css" type="text/css"/>
	

</h:head>

<h:body>

	<h:form>
		<p:dataTable value="#{atendimentoBean.listar()}" var="atendimento" border="4">
			<p:column>
				<f:facet name="header">Data Da Consulta</f:facet>
					#{atendimento.dataDaConsulta}
			</p:column>
			
			<p:column>
				<f:facet name="header">Hora Da Consulta</f:facet>
					#{atendimento.horaDaConsulta}
			</p:column>
			
			<p:column>
				<f:facet name="header">Medico Id</f:facet>
					#{medicoBean.encontrarPorId(atendimento.medicoId).nome}
			</p:column>	

			<p:column>
				<f:facet name="header">Paciente Id</f:facet>
					#{pacienteBean.encontrarPorId(atendimento.pacienteId).nome}
			</p:column>
			
			<p:column>
				<f:facet name="header">test</f:facet>
					#{atendimento.test}
			</p:column>
			
			
			<p:column>
				<f:facet name="header">Ações</f:facet>
				<h:commandLink  style="background:#424874;color:#D6E5E3" action="#{atendimentoBean.apagar(atendimento)}"><f:ajax execute="@form" render="@form" />Excluir</h:commandLink>
			</p:column>
		
		</p:dataTable> 
	</h:form>

</h:body>



</html>
